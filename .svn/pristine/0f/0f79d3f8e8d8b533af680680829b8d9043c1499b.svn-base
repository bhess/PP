package simulation.observer;

import java.util.Observable;
import java.util.Observer;

import simulation.Product;
import simulation.ReadEvent;
import simulation.entities.Recipient;
import simulation.utilities.Logging;

/**
 * @author bhess
 * 
 * Observer for Events that writes them to the console
 *
 */
public class ConsoleRecorder implements Observer {

	/* (non-Javadoc)
	 * @see java.util.Observer#update(java.util.Observable, java.lang.Object)
	 */
	public void update(Observable o, Object arg) {
		// TODO Auto-generated method stub
		ReadEvent re = (ReadEvent)arg;
		Product p = re.getChannel().getProduct();
		Recipient r = (Recipient)o;
		// String eventType = (arg instanceof INEvent ? INEVENT : OUTEVENT);
		Logging.log.info("PID: " + p.productID + ", Time: " + p.currentDate.getTime().toString()
					+ ", Name: " + r.getName() + ", " + re.getEventType() + ", misread: "
					+ re.isMisread() + ", clone: " + p.isClone + ", eavesdropped: " + re.isEavesdropped());
	}

}
