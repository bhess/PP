package simulation;

import simulation.entities.DirectedChannel;
import simulation.entities.Recipient;

/**
 * 
 * @author bhess
 * 
 * Class representing an IN-EVENT
 */
public class INEvent extends ReadEvent {

	private static final long serialVersionUID = 1814919440849268675L;

	public static final String INEVENT  = "IN";

	/**
	 * Initializing with the source entity where the event is recorded
	 * and the channel where it was shipped
	 * @param source
	 * Recipient entity where Event was recorded
	 * @param p
	 * Channel where tag was shipped on
	 */
	public INEvent(Recipient source, DirectedChannel p) {
		super(source, p);
	}

	/* (non-Javadoc)
	 * @see simulation.ReadEvent#setEavesdropped()
	 */
	@Override
	protected void setEavesdropped() {
		eavesdropped = (readChannel.desitination.random.nextFloat()
				< readChannel.eavesDestination ? true : false);
	}

	/* (non-Javadoc)
	 * @see simulation.ReadEvent#getEventType()
	 */
	@Override
	public String getEventType() {
		return INEVENT;
	}

	/* (non-Javadoc)
	 * @see simulation.ReadEvent#getEavesdroppedOffset()
	 */
	@Override
	public long getEavesdroppedOffset() {
		return -(readChannel.eavesDestinationOffset);
	}

}
