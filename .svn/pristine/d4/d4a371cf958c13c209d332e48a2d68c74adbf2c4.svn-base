/**
 * 
 */
package simulation.observer;

import java.util.Observable;
import java.util.Observer;

import simulation.ReadEvent;
import userinterface.SimulatorMain.Task;

/**
 * @author bhess
 * 
 * Observer that sets the progress of the simulation
 *
 */
public class PropertySetter implements Observer {

	/**
	 * Initializing the the corresponding task where the simulation runs on
	 * @param sw
	 * The Task object
	 */
	public PropertySetter(Task sw) {
		this.sw = sw;
	}
	
	private Task sw;
	private int cid = 0;
	
	/* (non-Javadoc)
	 * @see java.util.Observer#update(java.util.Observable, java.lang.Object)
	 */
	public void update(Observable o, Object arg) {
		// TODO Auto-generated method stub
		ReadEvent re = (ReadEvent)arg;
		int p = re.getChannel().getProduct().productID;
		if (p != cid) {
			cid = p;
			sw.setProgress2(++count);
		}
	}
	
	private int count = 0;

}
